!function(){var f={};!function(){function r(d){var e=d.querySelector(".accordion-tab-view-container \x3e .accordion-list-item-panel");d=d.querySelector(".accordion-list-item.active");if(d&&e&&!e.__list_item__&&(e.__list_item__=d),e&&d){var a=e.parentNode;e=a.removeChild(e);d.insertBefore(e,d.querySelector(".accordion-list-item-link").nextSibling);a.innerHTML="";d.classList.remove("active")}}function m(d){clearTimeout(t);t=setTimeout(d,400)}function n(d){return d.querySelector(".accordion-list-item.active")}
function h(d){return d.querySelector(".accordion-tab-view-container")}function p(d){return d.classList.contains("author-view")}function f(d,e){var a=!1;return d&&e&&e.split(" ").forEach(function(b){a=!!" ".concat(d.className," ").match(" ".concat(b," "))}),a}function u(d,e){for(;d&&!f(d,e);)d=d.parentNode;return d}function z(d,e,a){e=a.length===e+1;a=30*d.querySelectorAll(".table-container").length;var b=window.getComputedStyle(d),c=parseFloat(b.marginTop);b=parseFloat(b.marginBottom);return Math.ceil(d.offsetHeight+
(c+(e?0:b))+a)}function g(d,e){if(!d)return!1;e=Array.from(e.querySelectorAll(".accordion-list-item[data-link]"));if(!e.length)return!1;var a=e.map(function(a){return a.getAttribute("data-link")});d=a.indexOf(d.substring(1));if(0>d)return!1;var b=a[d];return e.find(function(a){return a.getAttribute("data-link")===b})}function q(d){d&&(d=d.querySelector(".accordion-list-item-panel"))&&(d.__list_item__.appendChild(d),delete d.__list_item__)}function A(d,e){for(var a=0;a<e.length;a++){var b=e[a];b.enumerable=
b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}function B(d,e){for(var a=0;a<e.length;a++){var b=e[a];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}function l(){v=new C;w=new D}var x=window.location.hash,t=!1,k=883<window.innerWidth;window.addEventListener("resize",function(){k=883<window.innerWidth});var C=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
!0;this.accordionClickHandler=this.accordionClickHandler.bind(this);this.accordionListItemClickHandler=this.accordionListItemClickHandler.bind(this);this.keydownEventListener=this.keydownEventListener.bind(this);this.triggerInPageLink=this.triggerInPageLink.bind(this);this.openHashItem=this.openHashItem.bind(this);this.toggleActive=this.toggleActive.bind(this);this.configure()}var e;return e=[{key:"configure",value:function(){var a,b,c=this;(this.accordions=k?document.querySelectorAll(".accordion:not(.tab-view)"):
document.querySelectorAll(".accordion"))&&(window.addEventListener("resize",this.resizeHandler),this.accordions.forEach(function(a){r(a);c.setupListeners(a)}),this.resetAllAccordions(),this.findAndTriggerHashItem(),a=document.querySelectorAll('a[href*\x3d"#"]'),b=Array.from(document.querySelectorAll(".accordion-list-item[data-link]")),a.length&&b.length&&b.forEach(function(b){var c=b.getAttribute("data-link");a.forEach(function(a){c===a.getAttribute("href").replace("#","")&&(a.setAttribute("data-in-page-link",
a.getAttribute("href")),a.setAttribute("href","javascript:void(0)"))})}),this.inPageLinkClickHandler())}},{key:"resizeHandler",value:function(){k!==883<window.innerWidth&&m(this.resetAllAccordions)}},{key:"findAndTriggerHashItem",value:function(){var a=this;this.accordions.forEach(function(b){(b=g(x,b))&&a.openHashItem(b)})}},{key:"triggerInPageLink",value:function(a){var b=this;a.preventDefault();a.stopImmediatePropagation();var c=a.target.getAttribute("data-in-page-link");return a.target.blur(),
this.accordions.forEach(function(a){(a=g(c,a))&&(a.classList.contains("accordion-list-item-link")?b.openHashItem(a.parentNode):b.openHashItem(a))}),!1}},{key:"openHashItem",value:function(a){var b=a.getBoundingClientRect().top-document.body.getBoundingClientRect().top;this.accordionListItemClickHandler(a);setTimeout(function(){return window.scrollTo(0,b)},200)}},{key:"inPageLinkClickHandler",value:function(){var a=this,b=document.querySelectorAll("a[data-in-page-link]"),c=this;b.length&&b.forEach(function(b){c.accordions.forEach(function(c){g(b.getAttribute("data-in-page-link"),
c)&&b.addEventListener("click",a.triggerInPageLink)})})}},{key:"resetAllAccordions",value:function(){var a=this;this.setAriaAttributes();this.accordions.forEach(function(b){var c=b.querySelectorAll(".accordion-list-item.active");q(h(b));c.forEach(function(c){a.deactivateAccordionItem(c,b)})})}},{key:"activateFirstAccordionItem",value:function(a){var b=a.querySelector(".accordion-list-item"),c=n(a);c&&c.classList.contains("active")&&this.deactivateAccordionItem(c,a);this.accordionListItemClickHandler(b)}},
{key:"activateLastAccordionItem",value:function(a){var b=a.querySelector(".accordion-list-item:last-child"),c=n(a);c&&c.classList.contains("active")&&this.deactivateAccordionItem(c,a);this.accordionListItemClickHandler(b)}},{key:"activatePreviousAccordionItem",value:function(){var a=document.activeElement.closest(".accordion-list-item"),b=a.previousElementSibling,c=a.closest(".accordion-list");a.classList.contains("active")&&this.deactivateAccordionItem(a,c);b&&b.classList.contains("accordion-list-item")?
this.accordionListItemClickHandler(b):this.activateLastAccordionItem(c)}},{key:"activateNextAccordionItem",value:function(){var a=this,b=document.activeElement.closest(".accordion-list-item"),c=b.nextElementSibling,d=b.closest(".accordion-list");b.classList.contains("active")&&this.deactivateAccordionItem(b,d);setTimeout(function(){c&&c.classList.contains("accordion-list-item")?a.accordionListItemClickHandler(c):a.activateFirstAccordionItem(d)},200)}},{key:"setupListeners",value:function(a){a.addEventListener("click",
this.accordionClickHandler);a.addEventListener("keydown",this.keydownEventListener)}},{key:"removeListeners",value:function(){var a=this;void 0!==this.accordions&&this.accordions.forEach(function(b){b.removeEventListener("click",a.accordionClickHandler);b.removeEventListener("keydown",a.keydownEventListener)})}},{key:"deactivateAccordionItem",value:function(a,b){a.querySelector(".accordion-list-item-panel").style.maxHeight="";this.toggleActive(a,b)}},{key:"toggleActive",value:function(a){a.classList.toggle("active");
var b=a.querySelectorAll(".accordion-list-item-access");b[0].setAttribute("aria-expanded","true");a.classList.contains("active")||b[0].setAttribute("aria-expanded","false")}},{key:"accordionClickHandler",value:function(a){var b=u(a.target,"accordion-list-item-link");if(b){var c=a.target.closest(".accordion"),d=a.target.closest(".accordion-list-item");d&&b.contains(a.target)&&(a.preventDefault(),a.stopPropagation(),!p(c))&&this.accordionListItemClickHandler(d)}}},{key:"accordionListItemClickHandler",
value:function(a){var b,c=a.querySelector(".accordion-list-item-panel"),d=a.classList.contains("active"),e=a.querySelector(".accordion-list-item-access");(function(a,b){a.style.maxHeight="".concat(b,"px")})(c,(b=window.getComputedStyle(c),parseFloat(b.marginTop)+parseFloat(b.marginBottom)+Array.prototype.map.call(c.children,z).reduce(function(a,b){return a+b},0)));this.toggleActive(a,null);d?setTimeout(function(){c.querySelectorAll("img").forEach(function(a){a.style.minHeight=""});c.style.maxHeight=
"";e.focus()},0):c.addEventListener("transitionend",function E(){c.removeEventListener("transitionend",E);c.style.maxHeight="none";c.querySelectorAll("img").forEach(function(a){a.style.minHeight="1px"});e.focus()})}},{key:"keydownEventListener",value:function(a){var b=a.keyCode,c=a.target.closest(".accordion"),d=!0;if(!p(c)){switch(b){case 35:this.activateLastAccordionItem(c);break;case 36:this.activateFirstAccordionItem(c);break;case 32:case 13:document.activeElement===a.target&&this.accordionClickHandler(a);
break;case 38:this.activatePreviousAccordionItem();break;case 40:this.activateNextAccordionItem();break;default:d=!1}d&&a.preventDefault()}}},{key:"setAriaAttributes",value:function(){this.accordions.forEach(function(a){var b=a.querySelector(".accordion-list"),c=h(a);a=a.querySelectorAll(".accordion-list-item-access");b.removeAttribute("role");b.removeAttribute("aria-label");c&&c.removeAttribute("role");a.forEach(function(a){a.removeAttribute("aria-selected");a.removeAttribute("tabindex");a.setAttribute("aria-expanded",
"false");a.setAttribute("role","button");a.querySelector("span.sr-only").classList.remove("hide")})})}}],e&&A(d.prototype,e),Object.defineProperty(d,"prototype",{writable:!1}),d}(),v,w,D=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");!0;this.clickHandler=this.clickHandler.bind(this);this.tabClickHandler=this.tabClickHandler.bind(this);this.keydownEventListener=this.keydownEventListener.bind(this);this.triggerInPageLink=this.triggerInPageLink.bind(this);
this.openHashItem=this.openHashItem.bind(this);this.toggleActiveTab=this.toggleActiveTab.bind(this);this.configure()}var e;return e=[{key:"configure",value:function(){var a=this;k&&(this.tabs=document.querySelectorAll(".accordion.tab-view"));this.tabs&&(window.addEventListener("resize",this.resizeHandler),this.tabs.forEach(function(b){r(b);a.setupListeners(b)}),this.resetAllTabs(),this.findAndTriggerHashItem(),this.inPageLinkClickHandler())}},{key:"resizeHandler",value:function(){k!==883<window.innerWidth&&
m(this.resetAllTabs)}},{key:"findAndTriggerHashItem",value:function(){var a=this;this.tabs.forEach(function(b){var c=g(x,b);c&&a.openHashItem(c,b)})}},{key:"triggerInPageLink",value:function(a){var b=this;a.preventDefault();a.stopImmediatePropagation();var c=a.target.getAttribute("data-in-page-link");return a.target.blur(),this.tabs.forEach(function(a){var d=g(c,a);d&&(d.classList.contains("accordion-list-item-link")?b.openHashItem(d.parentNode,a):b.openHashItem(d,a))}),!1}},{key:"openHashItem",value:function(a,
b){var c=a.getBoundingClientRect().top-document.body.getBoundingClientRect().top;this.tabClickHandler(a,b);setTimeout(function(){return window.scrollTo(0,c)},200)}},{key:"inPageLinkClickHandler",value:function(){var a=this,b=document.querySelectorAll("a[data-in-page-link]"),c=this;b.length&&b.forEach(function(b){c.tabs.forEach(function(c){g(b.getAttribute("data-in-page-link"),c)&&b.addEventListener("click",a.triggerInPageLink)})})}},{key:"resetAllTabs",value:function(){var a=this;this.setAriaAttributes();
this.tabs.forEach(function(b){var c=b.querySelectorAll(".accordion-list-item.active");q(h(b));c.forEach(function(c){a.deactivateListItem(c,b)});a.activateFirstListItem(b)})}},{key:"activateFirstListItem",value:function(a){var b=a.querySelector(".accordion-list-item");this.tabClickHandler(b,a)}},{key:"activateLastListItem",value:function(a){var b=a.querySelector(".accordion-list-item:last-child");this.tabClickHandler(b,a)}},{key:"activatePreviousListItem",value:function(a){var b=document.activeElement.closest(".accordion-list-item"),
c=b.previousElementSibling;c&&c.classList.contains("accordion-list-item")?this.tabClickHandler(c,a):(a=b.closest(".accordion"),this.activateLastListItem(a))}},{key:"activateNextListItem",value:function(a){var b=document.activeElement.closest(".accordion-list-item"),c=b.nextElementSibling;c&&c.classList.contains("accordion-list-item")?this.tabClickHandler(c,a):(a=b.closest(".accordion"),this.activateFirstListItem(a))}},{key:"setupListeners",value:function(a){a.addEventListener("click",this.clickHandler);
a.addEventListener("keydown",this.keydownEventListener)}},{key:"removeListeners",value:function(){var a=this;void 0!==this.tabs&&this.tabs.forEach(function(b){b.removeEventListener("click",a.clickHandler);b.removeEventListener("keydown",a.keydownEventListener)})}},{key:"deactivateListItem",value:function(a){a.querySelector(".accordion-list-item-panel").style.maxHeight="";this.toggleActiveTab(a)}},{key:"toggleActiveTab",value:function(a){a.classList.toggle("active");var b=a.querySelectorAll(".accordion-list-item-access"),
c=a.closest(".accordion").querySelectorAll(".accordion-list-item:not(.active) div \x3e a");b[0].setAttribute("aria-selected","true");b[0].setAttribute("tabindex",0);a.classList.contains("active")||(b[0].setAttribute("aria-selected","false"),b[0].setAttribute("tabindex",-1));c.forEach(function(a){a.setAttribute("tabindex",-1)})}},{key:"clickHandler",value:function(a){var b=u(a.target,"accordion-list-item-link");if(b){var c=a.target.closest(".accordion"),d=a.target.closest(".accordion-list-item");d&&
b.contains(a.target)&&(a.preventDefault(),a.stopPropagation(),this.tabClickHandler(d,c))}}},{key:"tabClickHandler",value:function(a,b){var c=n(b);b=h(b);var d=a.querySelector("a");if(f(a,"active"))d.focus();else{c&&(this.toggleActiveTab(c),b.setAttribute("tabindex","0"),b.setAttribute("aria-hidden","false"),d.focus());q(b);var e;c=(".accordion-list-item-panel",e=a.querySelector(".accordion-list-item-panel"),a.removeChild(e),e);b.appendChild(c);c.__list_item__=a;this.toggleActiveTab(a)}}},{key:"keydownEventListener",
value:function(a){var b=a.keyCode,c=a.target.closest(".accordion");if(!p(c))switch(b){case 35:a.preventDefault();this.activateLastListItem(c);break;case 36:a.preventDefault();this.activateFirstListItem(c);break;case 37:this.activatePreviousListItem(c);break;case 39:this.activateNextListItem(c)}}},{key:"setAriaAttributes",value:function(){this.tabs.forEach(function(a){var b=a.querySelector(".accordion-list"),c=h(a);a=a.querySelectorAll(".accordion-list-item-access");var d="Tab control with ".concat(a.length,
" tabs");b.setAttribute("role","tablist");b.setAttribute("aria-label",d);c.setAttribute("role","tabpanel");a.forEach(function(a){a.removeAttribute("aria-expanded");a.setAttribute("aria-selected","false");a.setAttribute("role","tab");a.querySelector("span.sr-only").classList.add("hide")})})}}],B(d.prototype,e),Object.defineProperty(d,"prototype",{writable:!1}),d}(),y=window.innerWidth;window.addEventListener("DOMContentLoaded",l);window.addEventListener("dynamic-accordions",l);"complete"===document.readyState&&
l();window.addEventListener("resize",function(){window.innerWidth!==y&&m(function(){try{y=window.innerWidth,v.removeListeners(),w.removeListeners(),l()}catch(d){console.error(d)}})})}();(function(f){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})})(f);window["c-115-accordion"]=f}();