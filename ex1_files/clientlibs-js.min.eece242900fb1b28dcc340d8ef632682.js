!function(){var t=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e={};!function(){var t,e,r,n,a,i,o=0,l=[];window.getScrollBarWidth=function(){if($(document).height()>$(window).height()){$("body").append('<div id="fakescrollbar" style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"></div>');var t=$("#fakescrollbar");t.append('<div style="height:100px;">&nbsp;</div>');var e=t.find("div").innerWidth();t.css("overflow-y","scroll");var r=$("#fakescrollbar").find("div").html("html is required to init new width.").innerWidth();return t.remove(),e-r}return 0};try{"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),$(".c-150-overdraft-calculator");getScrollBarWidth();$(window).innerWidth(),t=$(".fees-container, .slider-wrapper, .results-wrapper"),$(".results-col > .results-info.results-summary");var s=function(t,e){this.containerEl=$(t),this.min=parseInt(this.containerEl.data("min"))||0,this.max=parseInt(this.containerEl.data("max"))||100,this.step=parseInt(this.containerEl.data("step"))||10,this.range=this.containerEl.data("range")||"min",this.inputEl=this.containerEl.data("input")||".step-input",this.resultEl=this.containerEl.data("result")||".slider-result",this.errorEl=this.containerEl.data("error")||".error",this.value=parseInt(this.containerEl.data("value"))||0,this.variable=this.containerEl.data("variable")||null,this.callback=e,this.type=this.containerEl.data("type")||"integer",this.identifier=$(this.containerEl).attr("class").split("-")[2],this.init=function(){var t=this,e='<div class="lbg-tooltip error input-error-'+t.identifier+'"><div class="tooltip-content"><p>Value should be between '+t.min+" and "+t.max+'</p></div><div class="bubble-arrow"><div class="bubble-arrow-border"></div><div class="bubble-arrow-bg"></div></div></div>';$(t.inputEl).parent().find(".error").remove().end().append(e),t.errorEl+=".input-error-"+t.identifier,$(t.containerEl).find(".slider-bar .slider-widget").slider({range:t.range,value:t.value,min:t.min,max:t.max,step:t.step,slide:function(e,r){$(t.containerEl).find(".slider-bar .slider-widget").slider("option","value",r.value),t.update(t)}}).on("slide",(function(){$(this).slider("option","slide").apply(this,arguments),$(".lbg-tooltip.error").hide()})),$(".results-info.results-planned-overdraft > div").attr("aria-busy","true"),t.update(t),$(t.inputEl).attr("min",t.min).attr("max",t.max).attr("step",t.step).attr("maxlength",t.max.toString().length).attr("data-error",t.errorEl).on("keyup",(function(e){var r=$(this),n=b($.trim($(this).val())),a=!0;""==n?n="":(n=parseInt(n),r.val(v(n))),null!=n&&""!==n&&n>=parseInt(r.attr("min"))&&n<=parseInt(r.attr("max"))&&(a=!1),a?$(r.attr("data-error")).show():($(r.attr("data-error")).hide(),$(this).val(v(n)),$(t.containerEl).find(".slider-bar .slider-widget").slider("option","value",n),t.update(t))})).on("keydown",(function(e){$(t.containerEl).find(".slider-bar .slider-widget").slider("option","disabled")?e.preventDefault():(d(this,$(this).val().length),-1!==$.inArray(e.keyCode,[46,8,9,27,13,110,190])||65==e.keyCode&&!0===e.ctrlKey||e.keyCode>=35&&e.keyCode<=39||37!=e.keyCode&&e.keyCode)})).on("focus",(function(e){$(t.containerEl).find(".slider-bar .slider-widget").slider("option","disabled")?e.preventDefault():($(this).val().replace(/[A-Za-z]/g,""),d(this,$(this).val().length))})).on("blur",(function(e){var r=$(this),n=parseInt(b($.trim(r.val()))),a=0;""==n||isNaN(n)?(a=isNaN(parseInt(n))?parseInt(t.min):parseInt(n),r.val(v(a)),$(t.containerEl).find(".slider-bar .slider-widget").slider("option","value",a)):(r.val(v(n)),$(t.containerEl).find(".slider-bar .slider-widget").slider("option","value",n)),t.update(t);var i=!0;return""!=(n=b($.trim(r.val())))&&n>=parseInt(r.attr("min"))&&n<=parseInt(r.attr("max"))&&(i=!1),i?$(r.attr("data-error")).show():$(r.attr("data-error")).hide(),!1})),$(t.inputEl).parent().find(".qualifier, .currency").on("click",(function(){$(t.inputEl).focus()})),$(t.containerEl).find(".less-arrow , .more-arrow").on("click keypress",(function(e){var r=$(t.containerEl).find(".slider-bar .slider-widget");if(r.slider("option","disabled"))e.preventDefault();else if("keypress"!=e.type||13==e.which){var n,a=parseFloat(r.slider("option","value")),i=parseFloat(r.slider("option","step")),o=parseFloat(r.slider("option","min")),l=parseFloat(r.slider("option","max"));return $(this).hasClass("less-arrow")?(n=a-i,r.slider("option","value",n>=o?n:o)):$(this).hasClass("more-arrow")&&(n=a+i,r.slider("option","value",n<l?n:l)),t.update(t),!1}}))},this.update=function(t){var e=t,r=$(e.containerEl).find(".slider-bar .slider-widget"),n=parseFloat(r.slider("option","value")),a=parseFloat(r.slider("option","min")),i=parseFloat(r.slider("option","max"));$(e.containerEl).find(".ui-slider-handle").attr("role","slider").attr("aria-valuenow",n).attr("aria-valuemax",i).attr("aria-valuemin",a),n<a?n=a:n>i&&(n=i),r.slider("option","value",n),e.variable&&null!=e.variable&&(window[e.variable]=n),$(e.inputEl).val(),$(e.inputEl).val(v(n)),isNaN(n)&&(n=0),"integer"==e.type&&$(e.resultEl).find("span.duration-placeholder").text(parseInt(n)),"floating"==e.type&&$(e.resultEl).find("span.absolute-amount").text(v(Math.abs(n))).end().find("span.fraction-amount").text(h(n)),"function"==typeof e.callback&&e.callback("init")},this.enable=function(){$($(this.containerEl)[0]).find(".slider-bar .slider-widget").slider("enable").end().find(this.inputEl).removeAttr("disabled")},this.disable=function(){$($(this.containerEl)[0]).find(".slider-bar .slider-widget").slider("disable").end().find(this.inputEl).attr("disabled","disabled")},this.updateResult=function(){},this.error=function(t){$(this.errorEl).find(".tooltip-content").text(t.text)}};function d(t,e){if("text"===t.type||"tel"===t.type)if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",e),r.moveStart("character",e),r.select()}}var u=(r=function(t){for(var r,n,a=0,i=window.plannedBorrowAmount,l="",s=0;s<e.length;s++)n=0,i>e[s].end?n=e[s].end-e[s].start:i>e[s].start&&i<=e[s].end&&(n=i-e[s].start),0===s&&(n-=o),a+=r=(r=Math.floor10(n/e[s].rateblock*e[s].rate,-2))>0?r:0,l+="<tr><td>"+(0===s&&0==e[s].start?"Up to £"+e[s].end:s==e.length-1?"Over £"+e[s].start:"Between £"+e[s].start+" and £"+e[s].end)+"</td>",l+="<td>"+Math.round(100*e[s].rate)+"p per £"+e[s].rateblock+"</td>",l+="<td>£"+v(r)+"."+h(r)+"</td></tr>\n";$(".results-table tbody").html(l),a>0&&$(".results-info.results-planned-overdraft > div").attr("aria-busy","false"),$(".results-col").find(".totalOverdraftAmount-result").find("span.absolute-amount").text(v(Math.floor(i))).end().find("span.fraction-amount").text(h(i)).end().end().find(".totalOverdraftCost-result, .plannedOverdraftCost-result").find("span.absolute-amount").text(v(a)).end().find("span.fraction-amount").text(h(a)).end(),i+a>0&&$(window).trigger("resize"),setTimeout((function(){$(".results-info.results-planned-overdraft > div").attr("aria-busy","true")}),2e3)},500,i=function t(){var e=new Date-a;e<500?n=setTimeout(t,500-e):(n=null,r())},function(){a=new Date,n||(n=setTimeout(i,500))}),c=function(){t.hide(),$(".select-account").on("change",(function(){var e=$(this);return $(".rep-ex-wrapper").hide(),""!==e.val()?(function(t){var e=t.find(":selected").attr("data-index"),r="£0 Buffer",n="",a="";e&&(o=data.Functional_Data.account_specific[e].fee_free_amount,r=data.Functional_Data.account_specific[e].fee_free_buffer_message,n=data.Functional_Data.account_specific[e].fee_free_buffer_sub_text,a=data.Functional_Data.account_specific[e].rep_ex_id,$("#"+a).show());var i=document.createElement("div");i.innerHTML=r;var l=i.textContent||i.innerText||"";r=l,i.innerHTML=n;var s=""==(n=l=i.textContent||i.innerText||"")?"<strong>"+r+"</strong>":"<strong>"+r+"</strong> "+n;$(".breakdown .buffer-limit span").html(s),$(".slider-bar-info .buffer-limit").html(""==n?r:r+" ("+n+")"),$(".rep-ex-wrapper").hide(),$("#"+a).show(),u()}(e),w(),t.show()):(m(),t.hide()),!1})),$(".currencyInput, .durationInput, .slider-widget, .slider-widget > a, .slider-widget > div, .less-arrow, .more-arrow, .field-container .qualifier, .field-container .currency").on("mousedown keydown focus",(function(t){""==$(".select-account").val()?(m(),$(window).scrollTop(200)):w()})),$(".slider-widget > a").each((function(t,e){var r=$(e).parent().attr("title");$(e).removeAttr("title").attr("alt",r).removeAttr("href")})),$(".durationInput").on("keydown keyup blur",(function(t){var e=$(this).val().length;$(this).parent().removeClass("digit-1 digit-2 digit-3").addClass("digit-"+e)})).on("focus",(function(t){$(this).parent().find(".qualifier").hide()})).on("blur",(function(t){$(this).parent().find(".qualifier").show()})).trigger("keyup")},p=function(){var t=$('select[name="select-account"]');t.html('<option value="">Please select</option>');for(var e=1,r=0;r<data.Functional_Data.account_specific.length;r++)$("option:nth-child("+e+++")",t).after('<option value="'+data.Functional_Data.account_specific[r].fee_free_amount+'" data-index="'+r+'" >'+data.Functional_Data.account_specific[r].account_type+"</option>")},f=function(){var t=$(".sliders");$(".slider-plannedBorrowAmount").attr("data-min",data.Functional_Data.planned_min).attr("data-max",data.Functional_Data.planned_max).attr("data-step",data.Functional_Data.slider_increment),$(".currencyInput").attr("type","tel");for(var e=t.length-1;e>=0;e--){$(t[e]).attr("id","slider_"+e).find(".slider-widget.ui-slider.ui-widget.ui-widget-content").attr("id","sliderWidget_"+e);var r=new s(t[e],u);r.init(),l.push(r),r.disable()}$("#slider_0").find(".ui-slider-handle").attr("aria-labelledby","planned_od_sr_desc").attr("tabindex",-1),$("#slider_2, #slider_3").find(".ui-slider-handle").removeAttr("tabindex"),$(".lbg-tooltip.error").attr("role","alert")},h=function(t){var e=t;return(e=(e=Math.round(100*e)/100).toFixed(2)).toString().split(".")[1]},v=function(t){t=t.toString().replace(/\$|\,/g,""),isNaN(t)&&(t="0");var e=t==(t=Math.abs(t)),r=(t=Math.floor(100*t+.50000000001))%100;t=Math.floor(t/100).toString(),r<10&&(r="0"+r);for(var n=0;n<Math.floor((t.length-(1+n))/3);n++)t=t.substring(0,t.length-(4*n+3))+","+t.substring(t.length-(4*n+3));return(e?"":"-")+t},g=function(t,e,r){return void 0===r||0==+r?Math[t](e):(e=+e,r=+r,isNaN(e)||"number"!=typeof r||r%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[t](+(e[0]+"e"+(e[1]?+e[1]-r:-r)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+r:r))))};Math.round10||(Math.round10=function(t,e){return g("round",t,e)}),Math.floor10||(Math.floor10=function(t,e){return g("floor",t,e)}),Math.ceil10||(Math.ceil10=function(t,e){return g("ceil",t,e)});var b=function(t){return t.replace(/\,/g,"")},m=function(){$(".input-error-select-account").show();for(var t=l.length-1;t>=0;t--)l[t].disable()},w=function(){$(".input-error-select-account").hide();for(var t=l.length-1;t>=0;t--)l[t].enable()};$(document).ready((function(){!function(){var r=window.data||void 0;0!==t.length&&void 0!==r&&(e=r.Functional_Data.charges)&&0!==e.length&&(p(),f(),c(),function(){for(var t="",r="",n=0;n<e.length;n++)t=0===n&&0==e[n].start?"up to £"+e[n].end:n==e.length-1?"over £"+e[n].start:"between £"+e[n].start+" and £"+e[n].end,r+="<li><strong>"+Math.round(100*e[n].rate)+"p per £"+e[n].rateblock+" borrowed each day "+t+"</strong></li>";$(".breakdown").append(r)}())}()}))}catch(y){console.log(y)}}(),function(){"use strict";t(e)}(),window["c-150-overdraft-calculator"]=e}();
!function(){"use strict";var e=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t={};!function(){var e=function(e,t){if(e&&t){var o="true"===e.getAttribute(t)?"false":"true";e.setAttribute(t,o)}return e};function t(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=".js-progressive-nav",n="".concat(o,"-container"),i="".concat(o,"-list"),r="".concat(o,"-item"),s="".concat(o,"-more-button"),a="".concat(o,"-more-list"),c="".concat(o,"-dropdown"),l=!1,d=function(){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.root=e,this.root.classList.contains("progressive-nav-vertical")&&(l=!0),this.container=this.root.querySelector(n),this.list=this.root.querySelector(i),this.items=this.root.querySelectorAll(r),this.more_btn=this.root.querySelector(s),this.more_list=this.root.querySelector(a),this.dropdown=this.root.querySelector(c),this.touchMoved=!1,this.configure()}var d,u;return d=o,u=[{key:"configure",value:function(){var t,o,n=this;window.addEventListener("resize",(t=this.resize.bind(this),300,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];clearTimeout(o),o=setTimeout((function(){o=null,t.apply(void 0,n)}),300)})),window.addEventListener("touchstart",(function(){n.touchMoved=!1})),window.addEventListener("touchmove",(function(){n.touchMoved=!0})),window.addEventListener("touchend",(function(){n.touchMoved=!1})),this.more_btn.addEventListener("click",(function(){n.more_list.classList.contains("hidden")&&setTimeout((function(){var e,t,o;e=window,t="click",o=function(){n.container.classList.remove("opened"),n.more_list.classList.add("hidden"),n.more_btn.setAttribute("aria-expanded",!1)},e.addEventListener(t,(function n(){e.removeEventListener(t,n),o()}))}),100),n.container.classList.toggle("opened"),n.more_list.classList.toggle("hidden"),e(n.more_btn,"aria-expanded")})),this.dropdown.addEventListener("click",(function(){n.toggle()})),this.resize()}},{key:"toggle",value:function(){this.container.classList.toggle("opened"),this.list.classList.toggle("hidden-xs-down"),e(this.dropdown,"aria-expanded")}},{key:"collapse",value:function(){this.container.classList.remove("opened"),this.list.classList.add("hidden-xs-down"),this.dropdown.setAttribute("aria-expanded","false")}},{key:"resize",value:function(){var e=this,t=this.container.getBoundingClientRect().width-160,o=!(window.innerWidth<651);if(!(o&&l||this.touchMoved)){this.more_list.querySelectorAll(r).forEach((function(t){e.more_list.removeChild(t)})),this.root.classList.remove("shortened"),this.collapse();var n=0,i=!1;this.items.forEach((function(r){r.classList.remove("hidden"),o&&(n+=r.offsetWidth)>=t&&(e.more_list.appendChild(r.cloneNode(!0)),r.classList.add("hidden"),i=!0)}));var s=document.querySelector("#progressive-nav-more-list").querySelectorAll("a"),a=s[s.length-1];void 0!==a&&null!=a&&a.addEventListener("blur",(function(){e.container.classList.remove("opened"),e.more_list.click()}));var c=document.querySelector(".progressive-nav__item--current"),d=document.querySelector(".breadcrumb-primary-list-item:last-of-type > a");void 0!==c&&null!=c&&void 0!==d&&null!=d&&(d.style.pointerEvents="auto"),i&&this.root.classList.add("shortened")}}}],u&&t(d.prototype,u),Object.defineProperty(d,"prototype",{writable:!1}),o}(),u=d;window.addEventListener("load",(function(){Array.prototype.map.call(document.querySelectorAll(".js-progressive-nav-standalone"),(function(e){return new u(e)}))}))}(),e(t),window["c-107-progressive-nav"]=t}();
!function(){"use strict";var e=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t={};!function(){var e=function(e,t,r){e.addEventListener(t,(function i(){e.removeEventListener(t,i),r()}))},t=function(e,t){if(e&&t){var r="true"===e.getAttribute(t)?"false":"true";e.setAttribute(t,r)}return e};function r(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var i=".js-breadcrumb-item",o=function(){function o(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.root=e,this.container=this.root.querySelector(".js-breadcrumb-container"),this.list=this.root.querySelector(".js-breadcrumb-list"),this.items=this.root.querySelectorAll(i),this.more_container=this.root.querySelector(".js-breadcrumb-ellipse"),this.more_btn=this.root.querySelector(".js-breadcrumb-ellipse-trigger"),this.more_list=this.root.querySelector(".js-breadcrumb-ellipse-list"),this.configure()}var n,s;return n=o,s=[{key:"configure",value:function(){var r,i,o=this;window.addEventListener("resize",(r=this.resize.bind(this),300,function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];clearTimeout(i),i=setTimeout((function(){i=null,r.apply(void 0,t)}),300)})),window.addEventListener("blur",(function(){return e(window,"focus",o.resize.bind(o))})),this.more_btn.addEventListener("click",(function(){o.more_list.classList.contains("hide")&&setTimeout((function(){e(window,"click",(function(){t(o.more_list,"aria-expanded"),o.more_list.classList.add("hide")}))}),100),t(o.more_list,"aria-expanded"),o.more_list.classList.toggle("hide")})),this.resize()}},{key:"resize",value:function(){var e=this,t=this.more_btn.offsetWidth||60,r=function(e){var t=window.getComputedStyle(e),r=e.offsetWidth;return r-=parseInt(t.paddingLeft,10),r-=parseInt(t.paddingRight,10),(r-=parseInt(t.borderLeftWidth,10))-parseInt(t.borderRightWidth,10)}(this.container)-t-10,o=!(window.innerWidth<651);this.more_list.querySelectorAll(i).forEach((function(t){e.more_list.removeChild(t)})),this.root.classList.remove("shortened");var n=Array.from(this.items).shift().offsetWidth+Array.from(this.items).pop().offsetWidth,s=!1;Array.from(this.items).slice(1,-1).reverse().forEach((function(t){t.classList.remove("hide"),o&&(n+=t.offsetWidth)>=r&&(e.more_list.appendChild(t.cloneNode(!0)),t.classList.add("hide"),s=!0)})),s&&this.root.classList.add("shortened")}}],s&&r(n.prototype,s),Object.defineProperty(n,"prototype",{writable:!1}),o}(),n=o;window.addEventListener("DOMContentLoaded",(function(){Array.prototype.map.call(document.querySelectorAll(".js-breadcrumb.breadcrumb-standalone"),(function(e){return new n(e)}))}))}(),e(t),window["c-107-breadcrumb-nav"]=t}();
!function(){var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};!function(){function t(){var t=e.g.document.getElementsByClassName("hero-hub-image");t.length<1||Array.prototype.forEach.call(t,(function(t){var n=t;e.g.window.innerWidth>1500?n.style.backgroundImage="url('".concat(n.attributes["data-image-desktop"].value,"')"):e.g.window.innerWidth>736?n.style.backgroundImage="url('".concat(n.attributes["data-image-tablet"].value,"')"):n.style.backgroundImage="url('".concat(n.attributes["data-image-mobile"].value,"')")}))}e.g.window.addEventListener("load",t),e.g.window.addEventListener("resize",t),"complete"===document.readyState&&t()}(),function(){"use strict";e.r(t)}(),window["c-106-hero-hub-page"]=t}();
!function(){var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var t={};!function(){function t(){var t=e.g.document.getElementsByClassName("hero-image");t.length<1||Array.prototype.forEach.call(t,(function(t){var n=t;e.g.window.innerWidth>1500?n.style.backgroundImage="url('".concat(n.attributes["data-image-desktop"].value,"')"):e.g.window.innerWidth>736?n.style.backgroundImage="url('".concat(n.attributes["data-image-tablet"].value,"')"):n.style.backgroundImage="url('".concat(n.attributes["data-image-mobile"].value,"')")}))}e.g.window.addEventListener("load",t),e.g.window.addEventListener("resize",t),"complete"===document.readyState&&t()}(),function(){"use strict";e.r(t)}(),window["c-106-hero-home-page"]=t}();
!function(){var e={987:function(e,t,r){"use strict";r.r(t);var i=function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )".concat(t,"( |$)"),"gi").test(e.className)},l=function(e,t){e.classList?e.classList.add(t):e.className+=" ".concat(t)},n=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)".concat(t.split(" ").join("|"),"(\\b|$)"),"gi")," ")};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=null,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this;r.def={target:document.querySelector(".slider"),dotsWrapper:document.querySelector(".dots-wrapper"),arrowLeft:document.querySelector(".arrow-left"),arrowRight:document.querySelector(".arrow-right"),transition:{speed:500,easing:""},swipe:!0,autoHeight:!0,afterChangeSlide:function(){}},r.def=a(a({},r.def),t),r.init()}var t,r;return t=e,(r=[{key:"buildNav",value:function(){for(var e=this,t=0;t<e.totalSlides;t++){var r=document.createElement("li");r.setAttribute("data-slide",t+1),e.def.dotsWrapper.appendChild(r)}e.def.dotsWrapper.addEventListener("click",(function(t){t.target&&"LI"===t.target.nodeName&&(e.curSlide=t.target.getAttribute("data-slide"),e.gotoSlide())}),!1)}},{key:"getCurLeft",value:function(){this.curLeft=parseInt(this.sliderInner.style.left.split("px")[0],10)}},{key:"init",value:function(){var e,t,r=this,i=0;function l(e){var t=!1;function i(){t||(t=!0,r.loadedCount++,r.loadedCount>=r.totalSlides+2&&r.updateSliderDimension())}var l=e.querySelector("img");l?(l.onload=i,l.src=l.getAttribute("data-src"),l.style.display="block",l.complete&&i()):r.updateSliderDimension()}window.addEventListener("resize",(e=function(){i!==window.width&&(i=window.width,r.updateSliderDimension(),S(".c-106-hero.v2 .themable"))},function(){clearTimeout(t),t=setTimeout(e,100)}),!1),r.allSlides=0,r.curSlide=0,r.curLeft=0,r.totalSlides=r.def.target.querySelectorAll(".c-106-hero.v2").length,r.sliderInner=r.def.target.querySelector(".slider-inner"),r.loadedCount=0,document.querySelector(".carousel-container").classList.contains("-author")&&document.querySelector(".slider-inner").removeAttribute("style");var n=r.def.target.querySelectorAll(".c-106-hero.v2")[0].cloneNode(!0);r.sliderInner.appendChild(n);var o=r.def.target.querySelectorAll(".c-106-hero.v2")[r.totalSlides-1].cloneNode(!0);r.sliderInner.insertBefore(o,r.sliderInner.firstChild),r.curSlide++,r.allSlides=r.def.target.querySelectorAll(".c-106-hero.v2"),r.sliderInner.style.width="".concat(100*(r.totalSlides+2),"%");for(var a=0;a<r.totalSlides+2;a++)r.allSlides[a].style.width="".concat(100/(r.totalSlides+2),"%"),l(r.allSlides[a]),r.allSlides[a].querySelector(".btn").setAttribute("tabindex","-1"),r.allSlides[a].setAttribute("aria-hidden","true");r.allSlides[1].setAttribute("aria-hidden","false"),r.allSlides[1].querySelector(".btn").setAttribute("tabindex","0"),r.buildNav(),r.setActiveNavItem(),r.initArrows(),r.updateSliderDimension(),S(".c-106-hero.v2 .themable")}},{key:"reInitialize",value:function(){var e=this;document.querySelectorAll(".dots-wrapper li").forEach((function(e){e.remove()})),document.querySelector(".slider-inner").removeAttribute("style"),e.def.target.removeAttribute("style"),e.def.target.querySelectorAll(".c-106-hero.v2").forEach((function(e){e.removeAttribute("style")})),e.def.target.querySelector(".c-106-hero.v2:nth-child(1)").remove(),e.def.target.querySelector(".c-106-hero.v2:last-child").remove();var t=e.def.arrowLeft.cloneNode(!0);e.def.arrowLeft.parentNode.replaceChild(t,e.def.arrowLeft);var r=e.def.arrowRight.cloneNode(!0);e.def.arrowRight.parentNode.replaceChild(r,e.def.arrowRight),g()}},{key:"gotoSlide",value:function(){var e=this;e.sliderInner.style.transition="left ".concat(e.def.transition.speed/1e3,"s ").concat(e.def.transition.easing),e.sliderInner.style.left="".concat(-e.curSlide*e.slideW,"px"),l(e.def.target,"isAnimating"),setTimeout((function(){e.sliderInner.style.transition="",n(e.def.target,"isAnimating")}),e.def.transition.speed),e.setActiveNavItem(),e.def.autoHeight&&(document.querySelector(".sticky-nav")||(e.def.target.style.height="".concat(e.allSlides[e.curSlide].offsetHeight,"px"))),e.def.afterChangeSlide(e),setTimeout((function(){f(e)}),400)}},{key:"initArrows",value:function(){var e=this;""!==e.def.arrowLeft&&e.def.arrowLeft.addEventListener("click",(function(){i(e.def.target,"isAnimating")||(1===e.curSlide&&(e.curSlide=e.totalSlides+1,e.sliderInner.style.left="".concat(-e.curSlide*e.slideW,"px")),e.curSlide--,setTimeout((function(){e.gotoSlide()}),20))}),!1),""!==e.def.arrowRight&&e.def.arrowRight.addEventListener("click",(function(){i(e.def.target,"isAnimating")||(e.curSlide===e.totalSlides&&(e.curSlide=0,e.sliderInner.style.left="".concat(-e.curSlide*e.slideW,"px")),e.curSlide++,setTimeout((function(){e.gotoSlide()}),20))}),!1)}},{key:"setActiveNavItem",value:function(){for(var e=this,t=e.curSlide-1,r=0;r<e.totalSlides;r++)n(e.def.dotsWrapper.querySelectorAll("li")[r],"active");e.curSlide-1<0?t=e.totalSlides-1:e.curSlide-1>e.totalSlides-1&&(t=0),l(e.def.dotsWrapper.querySelectorAll("li")[t],"active")}},{key:"updateSliderDimension",value:function(){var e=this;if(!document.querySelector(".sticky-nav")){if(e.slideW=parseInt(e.def.target.querySelectorAll(".c-106-hero.v2")[0].offsetWidth,10),e.sliderInner.style.left="".concat(-e.slideW*e.curSlide,"px"),e.def.autoHeight)e.def.target.style.height="".concat(e.allSlides[e.curSlide].offsetHeight,"px");else for(var t=0;t<e.totalSlides+2;t++)e.allSlides[t].offsetHeight>e.def.target.offsetHeight&&(e.def.target.style.height="".concat(e.allSlides[t].offsetHeight,"px"));e.def.afterChangeSlide(e)}}}])&&c(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),f=function(e){for(var t=e,r=1;r<=t.totalSlides;r++)t.curSlide===r?(t.allSlides[r].querySelector(".btn").setAttribute("tabindex","0"),t.allSlides[r].setAttribute("aria-hidden","false"),t.allSlides[r].querySelector(".header-text").setAttribute("tabindex","0"),t.allSlides[r].querySelector(".header-text").focus()):(t.allSlides[r].querySelector(".btn").setAttribute("tabindex","-1"),t.allSlides[r].setAttribute("aria-hidden","true"),t.allSlides[r].querySelector(".header-text").setAttribute("tabindex","-1"),t.allSlides[r].querySelector(".header-text").blur())},S=function(e){var t=0;document.querySelectorAll(e).forEach((function(e){var r=e.getBoundingClientRect().height;e.style.height="auto",r>t&&(t=r)})),document.querySelector(".sticky-nav")||document.querySelectorAll(e).forEach((function(e){e.style.height="".concat(t,"px")}))},g=function(){document.getElementsByClassName("c-106-hero-carousel").length>0&&(s=new u({target:document.querySelector(".slider"),dotsWrapper:document.querySelector(".dots-wrapper"),arrowLeft:document.querySelector(".arrow-left"),arrowRight:document.querySelector(".arrow-right")}),S(".c-106-hero.v2 .themable"))};window.addEventListener("load",g),window.addEventListener("resize",(function(){document.getElementsByClassName("c-106-hero-carousel").length>0&&s.reInitialize()}))}},t={};function r(i){var l=t[i];if(void 0!==l)return l.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};r(987),function(){function e(){var e=r.g.document.getElementsByClassName("hero-image");e.length<1||Array.prototype.forEach.call(e,(function(e){var t=e;r.g.window.innerWidth>1500?t.style.backgroundImage="url('".concat(t.attributes["data-image-desktop"].value,"')"):r.g.window.innerWidth>736?t.style.backgroundImage="url('".concat(t.attributes["data-image-tablet"].value,"')"):t.style.backgroundImage="url('".concat(t.attributes["data-image-mobile"].value,"')")}))}window.addEventListener("DOMContentLoaded",e),window.addEventListener("resize",e),"complete"===document.readyState&&e()}(),function(){"use strict";r.r(i)}(),window["c-106-hero"]=i}();
/*! For license information please see main.js.LICENSE.txt */
!function(){var t,e,n,o,i,r,a,s,l,c,u,d,f,p,h,v={};v.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),t=[],e=function(){if(void 0===window.lbgComponentsLoaded&&(document.querySelectorAll('div.needs-javascript[class^="c-"]').forEach((function(e){"c-117-form-elements"===e.classList[0]&&-1===t.indexOf("c-401-calculator")&&t.push("c-401-calculator"),-1===t.indexOf(e.classList[0])&&t.push(e.classList[0])})),t.length)){window.lbgComponentsLoaded=!0;var e=document.getElementsByTagName("script")[0];t.forEach((function(t){var n,o,i=null===(n=document.querySelector(".".concat(t," [data-hash]")))||void 0===n?void 0:n.getAttribute("data-hash");"c-401-calculator"===t&&void 0===i&&(i=null===(o=document.querySelector(".calculator-401-proxy"))||void 0===o?void 0:o.getAttribute("data-hash"));var r=document.createElement("script");r.setAttribute("defer",""),r.setAttribute("src","/etc.clientlibs/lbg-common/components/content/".concat(t,"/clientlibs.min.").concat(i,".js")),e.parentNode.insertBefore(r,e)}))}},window.addEventListener("load",e),"complete"===document.readyState&&e(),n=function(t){var e=!1;return["https://lloydsbank.generalinsurance-system.co.uk/ECommerce/Default.aspx","https://halifax.generalinsurance-system.co.uk/","https://bankofscotland.generalinsurance-system.co.uk/ECommerce/Default.aspx","https://lloydsbankcarinsurance.insure-systems.co.uk/PrivateCar/Vehicle/Welcome.aspx","https://halifaxcarinsurance.insure-systems.co.uk/","https://home-insurance.bankofscotland.co.uk/bos/quote/welcome","https://home-insurance.bankofscotland.co.uk/bos/quote/yourproperty","https://home-insurance.bankofscotland.co.uk/bos/quote/retrievequote","https://home-insurance.bankofscotland.co.uk/bos/quote/quickquote","apply.bankofscotland.co.uk","www.bankofscotland.co.uk","lloydsbank.com","lloydsbank.co.uk","halifax.co.uk","halifax-online.co.uk"].forEach((function(n){-1!==t.indexOf(n)&&(e=!0)})),e},window.addEventListener("load",(function(){var t,e,o=window.location.search.replace(/[^=?&\w\s]/gi,"").split("?")[1],i=document.querySelectorAll('a[href*="asp_includes/appendURL.asp?linkID="]');void 0!==o&&i.length&&i.forEach((function(i){t=i.getAttribute("href"),e=t.substr(t.indexOf("=")+1).replace(/%3A/g,":"),n(e)&&i.setAttribute("href","".concat(e,"?").concat(o))}))})),o=function(){var t,e=document.querySelectorAll("img.lazy-img");t&&clearTimeout(t),t=setTimeout((function(){e.forEach((function(t){t.src=t.dataset.src,t.classList.remove("lazy-img")}))}),20)},["DOMContentLoaded","partial-load"].forEach((function(t){document.addEventListener(t,o,!1),"complete"===document.readyState&&o()})),document.addEventListener("DOMContentLoaded",(function(){var t=new CustomEvent("DOMCoreComponentsLoaded",{bubbles:!0,cancelable:!1});document.dispatchEvent(t)})),i=function(t){return t.find((function(t){return 0!==t.offsetWidth||0!==t.offsetHeight||0!==t.getClientRects().length}))},r=function(t,e){t.classList.add(e)},a=function(t,e){t.classList.remove(e)},s=function(t){var e=["a[href]","area[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","datalist:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]"].join(),n=t.target.closest(".with-overlay").querySelector(".video-component-container.overlay-container"),o=Array.from(n.querySelectorAll(e)),r=i(o),a=i(o.reverse());r&&a?9===t.keyCode&&(t.shiftKey?document.activeElement===r&&(t.preventDefault(),a.focus()):document.activeElement===a&&(t.preventDefault(),r.focus())):t.preventDefault()},l=function(t){var e=document.body;t?r(e,"no-scroll"):a(e,"no-scroll")},c=function(t,e){var n=function(t){return t.querySelector(".overlay-close-button")}(t);n["".concat(e,"EventListener")]("click",d,!0),t["".concat(e,"EventListener")]("click",f,!0),t["".concat(e,"EventListener")]("keydown",d,!0)},u=function(t){var e,n=t.target.closest(".with-overlay"),o=n.querySelector(".overlay-container");"function"==typeof window.Event?e=new window.Event("open-overlay"):(e=document.createEvent("Event")).initEvent("open-overlay",!0,!0),function(t){c(t,"add")}(n),r(n,"open-overlay"),l(!0),function(t){t.addEventListener("keydown",s)}(n),o.style.display="block",o.setAttribute("aria-hidden","false"),n.querySelectorAll(".c-254-call-to-action .overlay-content").forEach((function(t){t.setAttribute("tabindex",0)})),n.dispatchEvent(e)},d=function(t){var e,n=t.target.closest(".with-overlay"),o=n.querySelector(".overlay-container"),i="click"===t.type,r=27===t.keyCode||27===t.which;"function"==typeof window.Event?e=new window.Event("close-overlay"):(e=document.createEvent("Event")).initEvent("close-overlay",!0,!0),(i||r)&&(a(n,"open-overlay"),l(!1),function(t){c(t,"remove")}(n),function(t){t.removeEventListener("keydown",s)}(n),o.style.display="none",o.setAttribute("aria-hidden","true"),n.querySelectorAll(".c-254-call-to-action .overlay-content").forEach((function(t){t.setAttribute("tabindex",-1)})),n.dispatchEvent(e))},f=function(t){var e=t.target.closest(".with-overlay");t.target===e&&d(t)},window.addEventListener("load",(function(){var t=document.querySelectorAll(".with-overlay");t.length&&(document.querySelectorAll(".video-component-close-button").forEach((function(t){t.setAttribute("tabindex",-1)})),t.forEach((function(t){var e=t.querySelector(".overlay-trigger"),n=t.querySelector(".overlay-container");e&&function(t){t.addEventListener("click",u,!0)}(e),n.style.display="none",function(t){t.addEventListener("keydown",(function(e){if(13===e.keyCode||13===e.which){var n=t.classList.contains("with-overlay"),o=!t.classList.contains("open-overlay");n&&o&&u(e)}}))}(t)})))})),p={titleTpl:function(t){return"<div class='responsive table-cell-heading' data-type='responsive'>".concat(t,"</div>")},init:function(t,e){var n,o,i,r,a,s,l=this,c=this,u=$(t||"div.c-103-rich-text > table, table.responsive");if(u.length>0)for(var d=0,f=u.length;d<f;d++)if(!(n=$(u[d])).attr("data-type")||e){n.hasClass("responsive")||n.addClass("responsive"),n.attr("data-type","responsive"),i=n.find("> thead > tr, > tbody > tr, > tr");var p=!0;$(i[0]).find("> th").length<2&&$(i[0]).find("> td").length>0&&(p=!1);for(var h=0,v=i.length;h<v;h++)if((r=$(i[h]).find("> td")).length>0)for(var b=$(i[h]).find("> th"),g=0,m=r.length;g<m;g++)if(o=p?1===b.length?$(i[0]).find("> th")[g+1]:$(i[0]).find("> th")[g]:b[0],s=$(r[g]),a=o&&(o.textContent||o.innerText)||"",e&&s.find("div[data-type='responsive']").remove(),$(s).contents().filter((function(){return 3===l.nodeType&&$.trim(l.textContent).length})).wrap("<p></p>").end(),s.wrapInner("<div class='table-cell-details'></div>"),s.prepend(c.titleTpl(a)),p&&1===b.length&&0===g&&s.prepend(c.titleTpl(b[0].textContent||b[0].innerText)),p&&1===b.length&&0===g&&1===h){var y=$(i[0]).find("> th")[0];s.prepend(c.titleTpl(y.textContent||y.innerText))}}}},window.addEventListener("load",(function(){p.init()})),function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){if(r)return r(a,!0);var l=new Error("Cannot find module '".concat(a,"'"));throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){return i(e[a][1][t]||t)}),c,c.exports,t,e,n,o)}return n[a].exports}for(var r=void 0,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,null,[{key:"getCookieExpiresString",value:function(t){var e=new Date,n=new Date(e.getTime()+t);return"expires=".concat(n.toGMTString(),";")}},{key:"getPathString",value:function(t){return"path=".concat(t,";")}},{key:"bake",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;document.cookie="smartbanner_exited=1; ".concat(e?t.getCookieExpiresString(e):""," ").concat(n?t.getPathString(n):"")}},{key:"unbake",value:function(){document.cookie="smartbanner_exited=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"}},{key:"baked",get:function(){return"1"===document.cookie.replace(/(?:(?:^|.*;\s*)smartbanner_exited\s*\=\s*([^;]*).*$)|^.*$/,"$1")}}]),t}();n.default=i},{}],2:[function(t,e,n){(function(t){Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),o=function(){function n(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n)}return e(n,null,[{key:"platform",value:function(){return/iPhone|iPad|iPod/i.test(window.navigator.userAgent)?"ios":/Android/i.test(window.navigator.userAgent)?"android":void 0}},{key:"userAgentMatchesRegex",value:function(t){return new RegExp(t).test(window.navigator.userAgent)}},{key:"jQueryMobilePage",value:function(){return void 0!==t.$&&"undefined"!==t.$.mobile&&null!==document.querySelector(".ui-page")}},{key:"wrapperElement",value:function(){var t=n.jQueryMobilePage()?".ui-page":"html";return document.querySelectorAll(t)}}]),n}();n.default=o}).call(this,void 0!==v.g?v.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){var o,i=(o=t("./smartbanner.js"))&&o.__esModule?o:{default:o};window.addEventListener("load",(function(){(new i.default).publish()}))},{"./smartbanner.js":5}],4:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return o(t,[{key:"parse",value:function(){var t=document.getElementsByTagName("meta"),e={},n=null;return Array.from(t).forEach((function(t){var o=t.getAttribute("name"),i=t.getAttribute("content");o&&i&&function(t){return-1!==t.indexOf("smartbanner:")&&t.split(":")[1].length>0}(o)&&i.length>0&&(n=o.split(":")[1],-1!=Array.from(n).indexOf("-")&&(n=function(t){var e=t.split("-");return e.map((function(t,n){n>0&&(e[n]=t.charAt(0).toUpperCase()+t.substring(1))})),e.join("")}(n)),e[n]=i)})),e}}]),t}();n.default=i},{}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=s(t("./optionparser.js")),r=s(t("./detector.js")),a=s(t("./bakery.js"));function s(t){return t&&t.__esModule?t:{default:t}}var l="data-smartbanner-original-top",c="data-smartbanner-original-margin-top";function u(t){this.positioningDisabled||d(t.data.height)}function d(t){for(var e,n=r.default.wrapperElement(),o=0,i=n.length;o<i;o++)if(e=n[o],r.default.jQueryMobilePage()){if(e.getAttribute(l))continue;var a=parseFloat(getComputedStyle(e).top);e.setAttribute(l,isNaN(a)?0:a),e.style.top="".concat(t,"px")}else{if(e.getAttribute(c))continue;var s=parseFloat(getComputedStyle(e).marginTop);e.setAttribute(c,isNaN(s)?0:s),e.style.marginTop="".concat(t,"px")}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=new i.default;this.options=e.parse(),this.platform=r.default.platform()}return o(t,[{key:"publish",value:function(){if(0===Object.keys(this.options).length)return!1;if(a.default.baked)return!1;if(this.userAgentExcluded)return!1;if(!this.platformEnabled&&!this.userAgentIncluded)return!1;var t=document.createElement("div"),e=document.querySelector("body");e.insertBefore(t,e.childNodes[0]),t.outerHTML=this.html,this.positioningDisabled||d(this.height),function(t){document.querySelector(".js_smartbanner__exit").addEventListener("click",(function(e){return function(t,e){e.exit(),t.preventDefault(),$("a:visible",document).eq(0).focus()}(e,t)})),r.default.jQueryMobilePage()&&$(document).on("pagebeforeshow",t,u)}(this)}},{key:"exit",value:function(){r.default.jQueryMobilePage()&&$(document).off("pagebeforeshow",u),this.positioningDisabled||function(){for(var t,e=r.default.wrapperElement(),n=0,o=e.length;n<o;n++)t=e[n],r.default.jQueryMobilePage()&&t.getAttribute(l)?t.style.top="".concat(t.getAttribute(l),"px"):t.getAttribute(c)&&(t.style.marginTop="".concat(t.getAttribute(c),"px"))}();var t=document.querySelector(".js_smartbanner");document.querySelector("body").removeChild(t),a.default.bake(this.hideTtl,this.hidePath)}},{key:"originalTop",get:function(){var t=r.default.wrapperElement()[0];return parseFloat(t.getAttribute(l))}},{key:"originalTopMargin",get:function(){var t=r.default.wrapperElement()[0];return parseFloat(t.getAttribute(c))}},{key:"priceSuffix",get:function(){return"ios"===this.platform?this.options.priceSuffixApple:"android"===this.platform?this.options.priceSuffixGoogle:""}},{key:"icon",get:function(){return"android"===this.platform?this.options.iconGoogle:this.options.iconApple}},{key:"buttonUrl",get:function(){return"android"===this.platform?this.options.buttonUrlGoogle:"ios"===this.platform?this.options.buttonUrlApple:"#"}},{key:"html",get:function(){var t=this.options.customDesignModifier?this.options.customDesignModifier:this.platform;return'<div class="smartbanner smartbanner--'.concat(t,' js_smartbanner">\n      <a href="javascript:void();" class="smartbanner__exit js_smartbanner__exit" role="button"><span class="sr-only">App banner. Dismiss</span></a>\n      <div class="smartbanner__icon" style="background-image: url(').concat(this.icon,');"></div>\n      <div class="smartbanner__info">\n        <div>\n          <div class="smartbanner__info__title">').concat(this.options.title,'</div>\n          <div class="smartbanner__info__author">').concat(this.options.author,'</div>\n          <div class="smartbanner__info__price">').concat(this.options.price," ").concat(this.priceSuffix,'</div>\n</div>\n</div>\n<a role="button" href="').concat(this.buttonUrl,'" target="_blank" class="smartbanner__button"><span class="smartbanner__button__label">').concat(this.options.button,'</span><span class="sr-only">details on the app store</span></a>\n</div>')}},{key:"height",get:function(){var t=document.querySelector(".js_smartbanner").offsetHeight;return void 0!==t?t:0}},{key:"platformEnabled",get:function(){var t=this.options.enabledPlatforms||"android,ios";return t&&-1!==t.replace(/\s+/g,"").split(",").indexOf(this.platform)}},{key:"positioningDisabled",get:function(){return"true"===this.options.disablePositioning}},{key:"userAgentExcluded",get:function(){return!!this.options.excludeUserAgentRegex&&r.default.userAgentMatchesRegex(this.options.excludeUserAgentRegex)}},{key:"userAgentIncluded",get:function(){return!!this.options.includeUserAgentRegex&&r.default.userAgentMatchesRegex(this.options.includeUserAgentRegex)}},{key:"hideTtl",get:function(){return!!this.options.hideTtl&&parseInt(this.options.hideTtl)}}]),t}();n.default=f},{"./bakery.js":1,"./detector.js":2,"./optionparser.js":4}]},{},[3]),h=function(){try{var t=window.$||window.jQuery,e={canClose:!0,width:288,mobilePosition:function(e){e.find(".tooltip-container").attr("style")&&e.find(".tooltip-container").removeAttr("style"),e.find(".calc-tooltip").css({bottom:"auto",top:parseInt(e.offset().top,10)-parseInt(t(document).scrollTop(),10)-parseInt(e.find(".calc-tooltip").height(),10)})}},n=function(n){if(n.hasClass("focused"))return!0;t(".help.focused").removeClass("focused");var o=n.offset();parseInt(o.top,10)-parseInt(n.find(".calc-tooltip").height(),10)<parseInt(t("body").scrollTop(),10)?(e.canClose=!1,t("html,body").animate({scrollTop:parseInt(o.top,10)-parseInt(n.find(".calc-tooltip").height(),10)},100,(function(){"static"===n.css("position")?e.mobilePosition(n):n.find(".calc-tooltip").attr("style")&&n.find(".calc-tooltip").removeAttr("style")}))):"static"===n.css("position")?e.mobilePosition(n):n.find(".calc-tooltip").attr("style")&&n.find(".calc-tooltip").removeAttr("style"),n.addClass("focused");var i=document.querySelector(".tooltip-container"),r=document.querySelector(".bubble-arrow-border");if(void 0!==i&&null!=i&&void 0!==r&&null!=r){n.hasClass("focused")&&n.find(".tooltip-container").offset().left<0&&(n.find(".tooltip-container").attr("style","left: 0px"),n.find(".bubble-arrow-border").attr("style","left: 10px"));var a=n.find(".tooltip-container"),s=t(window).width()-(a.offset().left+a.outerWidth());s<0&&(n.find(".calc-tooltip").attr("style","left: ".concat(s,"px")),n.find(".bubble-arrow-border").attr("style","left: ".concat(Math.abs(s),"px")))}n.find(".tooltip-container").removeAttr("aria-hidden");var l=n.find(".tooltip-title"),c=n.find(".tooltip-content"),u="";l.length>0&&(u=l.html(),l.html(""));var d=c.html();return c.html(""),setTimeout((function(){l.length>0&&l.html(u),c.html(d)}),100),!1};t("*").on("touchstart",(function(n){e.canClose&&t(".help.focused,.help:focus").length&&t(n.target).closest(".help").length<1&&(t(".help.focused").removeClass("focused"),t(".help:focus").trigger("blur"))})),t(".ie6 .help,.ie7 .help,.ie8 .help").on("blur",(function(){t(this).removeClass("focused")})),t(".btn-close").on("focus",(function(){t(this).attr("aria-label","Close")})),t(".btn-close").on("focusout",(function(){t(this).removeAttr("aria-label","Close")})),t(".help").on("focus",(function(e){n(t(this)),t(this).find(".btn-close").attr("aria-label","Close")})),t(".help").on("click",(function(e){n(t(this))})),t(".help").on("keydown",(function(e){27!==e.keyCode&&27!==e.which||t(this).closest(".help").hasClass("focused")&&(e.stopPropagation(),t(this).closest(".help").removeClass("focused"),t(this).closest(".help").find(".tooltip-container").attr("aria-hidden","true"),t(e.target).trigger("blur"))})),t(".help").on("focusout",(function(e){t(e.relatedTarget).is(".btn-close")||t(this).closest(".help").hasClass("focused")&&(e.stopPropagation(),t(this).closest(".help").removeClass("focused"),t(this).closest(".help").find(".tooltip-container").attr("aria-hidden","true"),t(e.target).trigger("blur"))})),t(".help .btn-close").on("keydown",(function(e){t(this).closest(".help").hasClass("focused")&&(e.stopPropagation(),t(this).closest(".help").removeClass("focused"),t(".help").trigger("blur"),t(this).closest(".help").find(".tooltip-container").attr("aria-hidden","true"))})),t(".help .btn-close").on("click",(function(e){t(this).closest(".help").hasClass("focused")&&(e.stopPropagation(),t(this).closest(".help").removeClass("focused"),t(".help").trigger("blur"),t(this).closest(".help").find(".tooltip-container").attr("aria-hidden","true"))})),t(window).on("scroll",(function(){"static"===t(".help").css("position")&&e.canClose&&t(".help:focus").trigger("blur")}))}catch(t){}},window.addEventListener("load",h),"complete"===document.readyState&&h(),window.main={}}();
